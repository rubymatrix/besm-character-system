<div class="px-4 w-full space-y-2 mb-4">
  <%= link_to character_sheets_path, class: [
    "rounded-md w-full p-2 text-sm flex items-center gap-3 group transition-all duration-200 sidebar-collapsed:justify-center sidebar-collapsed:size-8",
    "hover:bg-neutral-200/80 dark:hover:bg-neutral-900",
    (current_page?(character_sheets_path) ? "bg-neutral-200 dark:bg-neutral-900" : nil)
  ].compact.join(" ") do %>
    <div class="flex items-center gap-3 min-w-0 flex-1 sidebar-collapsed:flex-none">
      <span class="sidebar-expanded-only transition-opacity duration-200 truncate">Character Sheets</span>
    </div>
  <% end %>

  <%= link_to besm_references_path, class: [
    "rounded-md w-full p-2 text-sm flex items-center gap-3 group transition-all duration-200 sidebar-collapsed:justify-center sidebar-collapsed:size-8",
    "hover:bg-neutral-200/80 dark:hover:bg-neutral-900",
    (current_page?(besm_references_path) ? "bg-neutral-200 dark:bg-neutral-900" : nil)
  ].compact.join(" ") do %>
    <div class="flex items-center gap-3 min-w-0 flex-1 sidebar-collapsed:flex-none">
      <span class="sidebar-expanded-only transition-opacity duration-200 truncate">BESM Reference</span>
    </div>
  <% end %>

  <% if @character_sheet.present? %>
    <%= link_to character_sheets_path, class: [
      "rounded-md w-full p-2 text-sm flex items-center gap-3 group transition-all duration-200 sidebar-collapsed:justify-center sidebar-collapsed:size-8",
      "hover:bg-neutral-200/80 dark:hover:bg-neutral-900",
      (request.path.include?(character_sheets_path) ? "bg-neutral-200 dark:bg-neutral-900" : nil)
    ].compact.join(" ") do %>
      <div class="flex items-center gap-3 min-w-0 flex-1 sidebar-collapsed:flex-none">
        <%= icon "plus", class: "size-5 stroke-current text-neutral-700 dark:text-neutral-100 shrink-0" %>
        <span class="sidebar-expanded-only transition-opacity duration-200 truncate"><%= @character_sheet.character_name %></span>
      </div>
    <% end %>
  <% end %>
</div>
